(window["webpackJsonpreact-chat"]=window["webpackJsonpreact-chat"]||[]).push([[0],{38:function(e,t,a){},49:function(e,t,a){e.exports=a(75)},54:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(20),o=a.n(s),i=(a(54),a(21)),c=a(22),u=a(29),l=a(23),m=a(30),h=(a(38),a(47)),g=function(e){var t=e.onSignIn;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",margin:"40px"}},r.a.createElement(h.a,{onClick:t}))},d=a(12),p=a(77),f=a(78),b=a(79),v=a(81),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={},a.handleSubmit=function(e){e.preventDefault(),d.firestore().collection("messages").add({author:a.state.author,message:a.state.message,dateSent:new Date}).then(function(){a.setState({message:""}),a.updatePosition()})},a.updatePosition=function(){window.setTimeout(function(){var e=document.getElementById("messages");e.scrollTop=e.scrollHeight-e.clientHeight},500)},a.handleMessageChange=function(e){a.setState({message:e.target.value})},a.state={messages:[],author:e.user.displayName,message:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.firestore().collection("messages").orderBy("dateSent").onSnapshot(function(t){var a=[];t.forEach(function(e){var t=e.data();t.id=e.id,t.dateSent=t.dateSent.toDate(),a.push(t)}),e.setState({messages:a}),e.updatePosition()})}},{key:"generateAuthorName",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",a=t.length,n=0;n<8;n++)e+=t.charAt(Math.floor(Math.random()*a));return e}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(p.a,{className:"inputs",noGutters:!0},r.a.createElement(f.a,{xs:10},r.a.createElement("input",{className:"input-box",type:"text",value:this.state.message,onChange:this.handleMessageChange,placeholder:"message"})),r.a.createElement(f.a,{xs:2},r.a.createElement(b.a,{variant:"info",className:"input-button",type:"submit"},"submit")))),r.a.createElement("div",{className:"messages",id:"messages",style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{style:{flex:.5}},this.state.messages.map(function(t){return r.a.createElement(v.a,{key:t.id,className:t.author===e.state.author?"bubble right-bubble":"bubble left-bubble",variant:t.author===e.state.author?"primary":"success"},r.a.createElement("p",null,t.author),r.a.createElement(v.a.Heading,null,t.message),r.a.createElement("small",null,t.dateSent.toLocaleString()))}))))}}]),t}(n.Component),y=a(44),w=a(14),S=a(80),x=function(e){return r.a.createElement(S.a,{bg:"dark",variant:"dark",style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(S.a.Brand,null,"react-chat"),e.user&&r.a.createElement("span",null,e.user.photoURL&&r.a.createElement("img",{src:e.user.photoURL,alt:"profile",height:"35px",style:{marginRight:"10px",borderRadius:"20px"}}),r.a.createElement(b.a,{variant:"danger",onClick:e.onSignOut},"signout")))},O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.signIn=function(){var e=new d.auth.GoogleAuthProvider;e.setCustomParameters({login_hint:"user@example.com"}),d.auth().signInWithPopup(e)},a.signOut=function(){d.auth().signOut()},a.componentDidMount=function(){d.auth().onAuthStateChanged(function(e){a.setState({user:e})})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{user:this.state.user,onSignOut:this.signOut}),r.a.createElement(y.a,null,r.a.createElement(w.a,{path:"/",exact:!0,render:function(){return e.state.user?r.a.createElement(E,{user:e.state.user}):r.a.createElement(g,{onSignIn:e.signIn})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k={apiKey:"AIzaSyCP1wlIxiqFnbfE0OevMxqmgk1v6mzaViA",authDomain:"react-chat-76f89.firebaseapp.com",databaseURL:"https://react-chat-76f89.firebaseio.com",projectId:"react-chat-76f89",storageBucket:"react-chat-76f89.appspot.com",messagingSenderId:"483575731254",appId:"1:483575731254:web:5eaf0176da238c9b"};d.initializeApp(k),o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[49,1,2]]]);
//# sourceMappingURL=main.d26bdd4b.chunk.js.map